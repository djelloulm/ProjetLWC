<template>
    <lightning-card variant="Narrow" title="Opportunités du Compte" icon-name="standard:opportunity">
        <!-- Affichage des opportunités -->
        <template if:true={opportunities}>
            <lightning-datatable 
                data={opportunities}
                columns={columns}
                key-field="Id"
                hide-checkbox-column="true" 
                class="slds-p-around_none slds-m-around_none slds-card__body slds-border_none"> <!-- Utilisation des classes SLDS pour ajuster les espacements et supprimer les bordures -->
            </lightning-datatable>
        </template>

        <!-- Bouton Rafraîchir sans espace -->
        <div class="slds-m-top_small">  <!-- Ajouter un léger espacement au-dessus du bouton -->
            <lightning-button 
                class="slds-m-top_small slds-m-bottom_none"
                label="Rafraîchir" 
                onclick={handleRafraichir} 
                variant="brand">
            </lightning-button>
        </div>

        <!-- Affichage de l'erreur en cas de problème -->
        <template if:true={error}>
            <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_error" role="contentinfo">
                <span class="slds-assistive-text">Erreur</span>
                <h2>Une erreur s'est produite lors du chargement des opportunités.</h2>
            </div>
        </template>
    </lightning-card>
</template>